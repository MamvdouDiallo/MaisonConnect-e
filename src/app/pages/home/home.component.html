<app-smart-home-section></app-smart-home-section>
<section class="min-h-screen px-6 py-12 lg:py-20 relative">
  <!-- HERO -->
  <header class="grid lg:grid-cols-2 gap-8 items-center mb-16">
    <div class="space-y-4 animate-fade-up">
      <h1 class="text-5xl font-extrabold text-gray-900 dark:text-white">{{ heroTitle }}</h1>
      <p class="text-lg text-gray-600 dark:text-gray-300 max-w-xl">{{ heroSubtitle }}</p>
      <div class="mt-6 flex gap-4">
        <a routerLink="/shop" class="px-6 py-3 bg-gray-900 text-white rounded-full hover:bg-gray-800 transition">Voir la boutique</a>
        <a routerLink="/services" class="px-6 py-3 border border-gray-900 text-gray-900 rounded-full hover:bg-gray-100 transition">Nos services</a>
      </div>
    </div>
    <div class="flex justify-center lg:justify-end">
      <img src="assets/hero-home.jpg" alt="Maison connectée" class="w-96 h-72 object-cover rounded-3xl shadow-xl transform hover:scale-105 transition"/>
    </div>
  </header>

  <!-- NOS PRODUITS -->
  <section class="mt-16">
    <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-8">Nos Produits</h2>
    <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div *ngFor="let p of products" class="bg-white dark:bg-gray-900 rounded-2xl shadow-md p-6 hover:shadow-xl transition transform hover:-translate-y-1 animate-fade-up" [style.animationDelay]="delayForIndex(p.id)">
        <img [src]="p.image" [alt]="p.title" class="w-full h-44 object-cover rounded-xl mb-4"/>
        <h3 class="text-xl font-semibold text-gray-900 dark:text-white">{{ p.title }}</h3>
        <p class="text-gray-600 dark:text-gray-300 mt-2">{{ p.description }}</p>
        <span class="font-bold text-lg text-gray-900 dark:text-white mt-2 block">{{ p.price }}</span>
      </div>
    </div>
  </section>

  <!-- NOS PACKS -->
  <section class="mt-20">
    <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-8">Nos Packs</h2>
    <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div *ngFor="let pack of packs" class="bg-white dark:bg-gray-900 rounded-2xl shadow-md p-6 hover:shadow-xl transition transform hover:-translate-y-1 animate-fade-up" [style.animationDelay]="delayForIndex(pack.id)">
        <img [src]="pack.image" [alt]="pack.title" class="w-full h-44 object-cover rounded-xl mb-4"/>
        <h3 class="text-xl font-semibold text-gray-900 dark:text-white">{{ pack.title }}</h3>
        <p class="text-gray-600 dark:text-gray-300 mt-2">{{ pack.description }}</p>
        <span class="font-bold text-lg text-gray-900 dark:text-white mt-2 block">{{ pack.price }}</span>
      </div>
    </div>
  </section>

  <!-- NOS SERVICES -->
  <section class="mt-20">
    <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-8">Nos Services</h2>
    <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div *ngFor="let s of services" class="bg-white dark:bg-gray-900 rounded-2xl shadow-md p-6 hover:shadow-xl transition transform hover:-translate-y-1 animate-fade-up" [style.animationDelay]="delayForIndex(s.id)">
        <div class="text-4xl mb-4">{{ s.icon }}</div>
        <h3 class="text-xl font-semibold text-gray-900 dark:text-white">{{ s.title }}</h3>
        <p class="text-gray-600 dark:text-gray-300 mt-2">{{ s.description }}</p>
        <ul *ngIf="s.highlights?.length" class="mt-4 list-disc list-inside text-gray-700 dark:text-gray-300">
          <li *ngFor="let h of s.highlights">{{ h }}</li>
        </ul>
      </div>
    </div>
  </section>

  <!-- Slider Nos Réalisations -->
  <section class="mt-20">
    <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-8 text-center">Nos Réalisations</h2>
    <div class="carousel relative overflow-hidden w-full">
      <div class="carousel-track flex transition-transform duration-500" [style.transform]="'translateX(-' + currentIndex * 100 + '%)'">
        <div class="carousel-item flex-shrink-0 w-full" *ngFor="let p of products">
          <img [src]="p.image" [alt]="p.title" class="w-full h-64 object-cover rounded-xl" />
          <h3 class="text-lg font-bold mt-2 text-gray-900">{{ p.title }}</h3>
        </div>
      </div>
      <button (click)="prev()" class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white px-3 py-1 rounded-full">‹</button>
      <button (click)="next()" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white px-3 py-1 rounded-full">›</button>
      <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-2">
        <span *ngFor="let p of products; let i = index" class="w-2 h-2 rounded-full" [ngClass]="{ 'bg-gray-900': i === currentIndex, 'bg-gray-400': i !== currentIndex }"></span>
      </div>
    </div>
  </section>

  <!-- Slider Témoignages Clients -->
  <section class="mt-20 py-12 px-6 rounded-3xl bg-gray-50 dark:bg-gray-900">
    <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-8 text-center">Témoignages Clients</h2>
    <div class="carousel relative overflow-hidden w-full">
      <div class="carousel-track flex transition-transform duration-500" [style.transform]="'translateX(-' + testimonialIndex * 100 + '%)'">
        <div class="carousel-item flex-shrink-0 w-full px-4" *ngFor="let t of testimonials">
          <div class="bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-6 text-center">
            <img *ngIf="t.avatar" [src]="t.avatar" [alt]="t.name" class="w-16 h-16 mx-auto rounded-full mb-4 object-cover"/>
            <p class="text-gray-700 dark:text-gray-300 italic">"{{ t.content }}"</p>
            <span class="block font-semibold mt-3 text-gray-900 dark:text-white">{{ t.name }}</span>
          </div>
        </div>
      </div>
      <button (click)="prevTestimonial()" class="absolute left-2 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white px-3 py-1 rounded-full">‹</button>
      <button (click)="nextTestimonial()" class="absolute right-2 top-1/2 transform -translate-y-1/2 bg-gray-800 text-white px-3 py-1 rounded-full">›</button>
      <div class="absolute bottom-2 left-1/2 transform -translate-x-1/2 flex gap-2">
        <span *ngFor="let t of testimonials; let i = index" class="w-2 h-2 rounded-full" [ngClass]="{ 'bg-gray-900': i === testimonialIndex, 'bg-gray-400': i !== testimonialIndex }"></span>
      </div>
    </div>
  </section>

  <!-- Section Inspirez-vous -->
  <section class="mt-20">
    <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-8 text-center">Inspirez-vous</h2>
    <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
      <div *ngFor="let a of articles" class="bg-white dark:bg-gray-900 rounded-2xl shadow-md overflow-hidden hover:shadow-xl transition transform hover:-translate-y-1 animate-fade-up">
        <img [src]="a.image" [alt]="a.title" class="w-full h-48 object-cover"/>
        <div class="p-6">
          <span class="text-sm text-gray-500 dark:text-gray-400">{{ a.date }}</span>
          <h3 class="text-xl font-semibold text-gray-900 dark:text-white mt-2">{{ a.title }}</h3>
          <p class="text-gray-600 dark:text-gray-300 mt-1">{{ a.summary }}</p>
          <a href="#" class="mt-3 inline-block text-blue-600 dark:text-blue-400 hover:underline">Lire la suite →</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Section Pourquoi nous choisir ? -->
  <section class="mt-20 py-12 px-6 bg-gray-50 dark:bg-gray-900 rounded-3xl">
    <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-12 text-center">Pourquoi nous choisir ?</h2>
    <div class="grid sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
      <div *ngFor="let w of whyUs" class="bg-white dark:bg-gray-800 rounded-2xl shadow-md p-6 text-center hover:shadow-xl transition transform hover:-translate-y-1 animate-fade-up">
        <div class="text-5xl mb-4">{{ w.icon }}</div>
        <h3 class="text-xl font-semibold text-gray-900 dark:text-white">{{ w.title }}</h3>
        <p class="text-gray-600 dark:text-gray-300 mt-2">{{ w.description }}</p>
      </div>
    </div>
  </section>

</section>
<section class="mt-20 py-12 px-6 bg-gray-50 dark:bg-gray-900 rounded-3xl">
  <h2 class="text-3xl font-bold text-gray-900 dark:text-white mb-8 text-center">La Maison Connectée</h2>
  <p class="text-center text-gray-600 dark:text-gray-300 mb-8">Tout ce que vous devez savoir !</p>

  <div class="max-w-4xl mx-auto space-y-4">
    <div *ngFor="let faq of faqs; let i = index" class="border-b border-gray-200 dark:border-gray-700">
      <button
        (click)="toggleFAQ(i)"
        class="w-full flex justify-between items-center py-4 text-left font-medium text-gray-900 dark:text-white focus:outline-none hover:text-blue-600 dark:hover:text-blue-400 transition"
      >
        {{ faq.question }}
        <span class="text-xl transform transition-transform duration-300" 
              [ngClass]="{'rotate-45': openFAQIndex === i}">+</span>
      </button>

      <!-- Container animé : slide + fade -->
      <div
        [@faqAnimation]="openFAQIndex === i ? 'open' : 'closed'"
        class="overflow-hidden text-gray-700 dark:text-gray-300"
      >
        <p class="py-2">{{ faq.answer || 'Réponse détaillée à venir...' }}</p>
      </div>
    </div>
  </div>
</section>
